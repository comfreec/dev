<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì½”ì›¨ì´ ë©¤ë²„ì‹­ ê°€ì…</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ </text></svg>" />
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Malgun Gothic', Arial, sans-serif;
            background-color: #f5f5f5;
            padding: 20px;
            line-height: 1.6;
        }
        
        .container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        h1 {
            text-align: center;
            color: #0066cc;
            margin-bottom: 40px;
            font-size: 28px;
        }
        
        .form-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            background: #fafafa;
        }
        
        .section-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 20px;
            color: #333;
            border-bottom: 2px solid #0066cc;
            padding-bottom: 10px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #555;
        }
        
        input, select {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }
        
        input:focus, select:focus {
            border-color: #0066cc;
            outline: none;
            box-shadow: 0 0 5px rgba(0,102,204,0.3);
        }
        
        .form-row {
            display: flex;
            gap: 15px;
        }
        
        .form-row .form-group {
            flex: 1;
        }
        
        .radio-group {
            display: flex;
            gap: 20px;
            margin-top: 5px;
        }
        
        .radio-group label {
            display: flex;
            align-items: center;
            font-weight: normal;
            margin-bottom: 0;
        }
        
        .radio-group input[type="radio"] {
            width: auto;
            margin-right: 8px;
        }
        
        .membership-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
            font-size: 11px;
            min-width: 600px;
        }
        
        .membership-table th,
        .membership-table td {
            border: 1px solid #ddd;
            padding: 6px 4px;
            text-align: center;
            white-space: nowrap;
            font-size: 10px;
        }
        
        .membership-table th {
            background-color: #0066cc;
            color: white;
        }
        
        .membership-table .size-column {
            background-color: #f0f8ff;
            font-weight: bold;
        }
        
        .submit-btn {
            background-color: #0066cc;
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            width: 100%;
            margin-top: 20px;
        }
        
        .submit-btn:hover {
            background-color: #0055aa;
        }
        
        .settings-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: #666;
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            cursor: pointer;
            font-size: 18px;
            z-index: 1000;
        }
        
        .settings-btn:hover {
            background-color: #555;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            z-index: 1001;
        }
        
        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 30px;
            border-radius: 10px;
            width: 90%;
            max-width: 400px;
        }
        
        .modal h2 {
            margin-bottom: 20px;
            color: #333;
        }
        
        .close {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 28px;
            cursor: pointer;
            color: #666;
        }
        
        .close:hover {
            color: #333;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            .membership-table {
                font-size: 9px;
                min-width: 550px;
            }
            
            .membership-table th,
            .membership-table td {
                padding: 4px 2px;
                font-size: 9px;
            }
        }
        
        @media print {
            body {
                background: white;
                padding: 0;
            }
            
            .container {
                box-shadow: none;
                max-width: none;
            }
            
            .submit-btn, .settings-btn {
                display: none;
            }
            
            .membership-table {
                font-size: 8px;
            }
        }
    </style>
</head>
<body>
    <!-- ì„¤ì • ë²„íŠ¼ -->
    <button class="settings-btn" onclick="openSettings()">âš™ï¸</button>
    
    <!-- ì„¤ì • ëª¨ë‹¬ -->
    <div id="settingsModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeSettings()">&times;</span>
            <h2>íŒ€ì¥ë‹˜ ì „í™”ë²ˆí˜¸ ì„¤ì •</h2>
            <div class="form-group">
                <label for="team-leader-phone">íŒ€ì¥ë‹˜ ì „í™”ë²ˆí˜¸</label>
                <input type="tel" id="team-leader-phone" placeholder="010-0000-0000">
            </div>
            <button onclick="saveSettings()" class="submit-btn">ì €ì¥</button>
        </div>
    </div>

    <div class="container">
        <h1>ì½”ì›¨ì´ ë©¤ë²„ì‹­ ê°€ì…</h1>
        
        <form>
            <!-- ê³ ê° ì •ë³´ ì„¹ì…˜ -->
            <div class="form-section">
                <div class="section-title">ê³ ê° ì •ë³´</div>
                
                <div class="form-group">
                    <label for="customer-name">ê³ ê°ë‹˜ ì„±í•¨</label>
                    <input type="text" id="customer-name" name="customer-name">
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="phone">ì—°ë½ì²˜</label>
                        <input type="tel" id="phone" name="phone" placeholder="010-0000-0000">
                    </div>
                    <div class="form-group">
                        <label for="carrier">í†µì‹ ì‚¬</label>
                        <select id="carrier" name="carrier">
                            <option value="">ì„ íƒ</option>
                            <option value="SK">SK</option>
                            <option value="KT">KT</option>
                            <option value="LG">LG</option>
                            <option value="ì•Œëœ°í°">ì•Œëœ°í°</option>
                        </select>
                    </div>
                    <div class="form-group" id="sub-carrier-group" style="display: none;">
                        <label for="sub-carrier">ì•Œëœ°í° í†µì‹ ë§</label>
                        <select id="sub-carrier" name="sub-carrier">
                            <option value="">ì„ íƒ</option>
                            <option value="SK">SKë§</option>
                            <option value="KT">KTë§</option>
                            <option value="LG">LGë§</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="birth-date">ìƒë…„ì›”ì¼</label>
                        <input type="text" id="birth-date" name="birth-date" placeholder="ì˜ˆ) 1990-01-01 ë˜ëŠ” 19900101">
                    </div>
                    <div class="form-group">
                        <label>ì„±ë³„</label>
                        <div class="radio-group">
                            <label><input type="radio" name="gender" value="male"> ë‚¨ì„±</label>
                            <label><input type="radio" name="gender" value="female"> ì—¬ì„±</label>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="address">í•´ë‹¹ ì£¼ì†Œ</label>
                    <input type="text" id="address" name="address" placeholder="ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”">
                </div>
            </div>
            
            <!-- ê²°ì œ ì •ë³´ ì„¹ì…˜ -->
            <div class="form-section">
                <div class="section-title">ê²°ì œ ì •ë³´</div>
                
                <div class="form-group">
                    <label>ê²°ì œ ë°©ë²•</label>
                    <div class="radio-group">
                        <label><input type="radio" name="payment-method" value="bank"> ì€í–‰ì´ì²´</label>
                        <label><input type="radio" name="payment-method" value="card"> ì¹´ë“œê²°ì œ</label>
                    </div>
                </div>
                
                <div id="bank-info" style="display: none;">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="bank-name">ì€í–‰ëª…</label>
                            <input type="text" id="bank-name" name="bank-name">
                        </div>
                        <div class="form-group">
                            <label for="account-holder">ì˜ˆê¸ˆì£¼</label>
                            <input type="text" id="account-holder" name="account-holder">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="account-number">ê³„ì¢Œë²ˆí˜¸</label>
                        <input type="text" id="account-number" name="account-number">
                    </div>
                </div>
                
                <div id="card-info" style="display: none;">
                    <div class="form-group">
                        <label for="card-company">ì¹´ë“œì‚¬</label>
                        <input type="text" id="card-company" name="card-company">
                    </div>
                    <div class="form-group">
                        <label for="card-number">ì¹´ë“œë²ˆí˜¸</label>
                        <input type="text" id="card-number" name="card-number" placeholder="0000-0000-0000-0000">
                    </div>
                    <div class="form-group">
                        <label for="expiry">ìœ íš¨ê¸°ê°„</label>
                        <input type="text" id="expiry" name="expiry" placeholder="MM/YY">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="payment-date">ê²°ì œì¼</label>
                    <select id="payment-date" name="payment-date">
                        <option value="">ì„ íƒ</option>
                        <option value="10">10ì¼</option>
                        <option value="20">20ì¼</option>
                    </select>
                </div>
            </div>
            
            <!-- ë©¤ë²„ì‹­ ì •ë³´ ì„¹ì…˜ -->
            <div class="form-section">
                <div class="section-title">ë©¤ë²„ì‹­ ì •ë³´</div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="product-size">ë©¤ë²„ì‹­ ì œí’ˆ ì‚¬ì´ì¦ˆ</label>
                        <select id="product-size" name="product-size">
                            <option value="">ì„ íƒ</option>
                            <option value="single">ì‹±ê¸€/ìŠˆí¼ì‹±ê¸€</option>
                            <option value="double">ë”ë¸”/í€¸</option>
                            <option value="king">í‚¹</option>
                            <option value="large-king">ë¼ì§€í‚¹</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="contract-period">ì•½ì •ê¸°ê°„</label>
                        <select id="contract-period" name="contract-period">
                            <option value="">ì„ íƒ</option>
                            <option value="1year">1ë…„ ë©¤ë²„ì‹­</option>
                            <option value="2year-discount" selected>2ë…„ ì•½ì • (15% í• ì¸)</option>
                            <option value="1year-prepaid">1ë…„ ì„ ë‚© (5% í• ì¸)</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <!-- ë©”íŠ¸ë¦¬ìŠ¤ ì¼€ì–´ ì„œë¹„ìŠ¤ ìš”ê¸ˆí‘œ -->
            <div class="form-section">
                <div class="section-title">ë©”íŠ¸ë¦¬ìŠ¤ ì¼€ì–´ ì„œë¹„ìŠ¤ ë©¤ë²„ì‹­ ìš”ê¸ˆí‘œ</div>
                <div style="overflow-x: auto;">
                
                <table class="membership-table">
                    <thead>
                        <tr>
                            <th rowspan="2">êµ¬ë¶„</th>
                            <th rowspan="2">ì„œë¹„ìŠ¤ì£¼ê¸°</th>
                            <th colspan="3">ë©¤ë²„ì‹­ íšŒë¹„ (ì›” ìš”ê¸ˆ)</th>
                            <th rowspan="2">1íšŒ ì„œë¹„ìŠ¤ ìš”ê¸ˆ</th>
                        </tr>
                        <tr>
                            <th>1ë…„ ë©¤ë²„ì‹­</th>
                            <th>2ë…„ ì•½ì •<br>(15% í• ì¸)</th>
                            <th>1ë…„ ì„ ë‚©<br>(5% í• ì¸)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td rowspan="2" class="size-column">ì‹±ê¸€/ìŠˆí¼ì‹±ê¸€</td>
                            <td>3ê°œì›”</td>
                            <td>11,500ì›</td>
                            <td>9,700ì›</td>
                            <td>131,100ì›</td>
                            <td rowspan="2">45,000ì›</td>
                        </tr>
                        <tr>
                            <td>4ê°œì›”</td>
                            <td>8,700ì›</td>
                            <td>7,300ì›</td>
                            <td>99,100ì›</td>
                        </tr>
                        <tr>
                            <td rowspan="2" class="size-column">ë”ë¸”/í€¸</td>
                            <td>3ê°œì›”</td>
                            <td>12,500ì›</td>
                            <td>10,600ì›</td>
                            <td>142,500ì›</td>
                            <td rowspan="2">50,000ì›</td>
                        </tr>
                        <tr>
                            <td>4ê°œì›”</td>
                            <td>9,700ì›</td>
                            <td>8,200ì›</td>
                            <td>110,500ì›</td>
                        </tr>
                        <tr>
                            <td rowspan="2" class="size-column">í‚¹</td>
                            <td>3ê°œì›”</td>
                            <td>14,500ì›</td>
                            <td>12,300ì›</td>
                            <td>165,300ì›</td>
                            <td rowspan="2">55,000ì›</td>
                        </tr>
                        <tr>
                            <td>4ê°œì›”</td>
                            <td>11,000ì›</td>
                            <td>9,300ì›</td>
                            <td>125,400ì›</td>
                        </tr>
                        <tr>
                            <td rowspan="2" class="size-column">ë¼ì§€í‚¹</td>
                            <td>3ê°œì›”</td>
                            <td>16,000ì›</td>
                            <td>13,600ì›</td>
                            <td>182,400ì›</td>
                            <td rowspan="2">60,000ì›</td>
                        </tr>
                        <tr>
                            <td>4ê°œì›”</td>
                            <td>12,500ì›</td>
                            <td>10,600ì›</td>
                            <td>142,500ì›</td>
                        </tr>
                    </tbody>
                </table>
                </div>
            </div>
            
            <button type="submit" class="submit-btn">íŒ€ì¥ë‹˜ì—ê²Œ ì „ì†¡</button>
        </form>
    </div>
    
    <script>
        // ì„¤ì • ê´€ë ¨ í•¨ìˆ˜ë“¤
        function openSettings() {
            document.getElementById('settingsModal').style.display = 'block';
            // ê¸°ì¡´ì— ì €ì¥ëœ ì „í™”ë²ˆí˜¸ ë¶ˆëŸ¬ì˜¤ê¸°
            const savedPhone = localStorage.getItem('teamLeaderPhone');
            if (savedPhone) {
                document.getElementById('team-leader-phone').value = savedPhone;
            }
        }
        
        function closeSettings() {
            document.getElementById('settingsModal').style.display = 'none';
        }
        
        function saveSettings() {
            const phone = document.getElementById('team-leader-phone').value;
            if (phone) {
                localStorage.setItem('teamLeaderPhone', phone);
                alert('íŒ€ì¥ë‹˜ ì „í™”ë²ˆí˜¸ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.');
                closeSettings();
            } else {
                alert('ì „í™”ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
            }
        }
        
        // ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
        window.onclick = function(event) {
            const modal = document.getElementById('settingsModal');
            if (event.target == modal) {
                closeSettings();
            }
        }
        
        // ê°€ì… ì‹ ì²­ í¼ ì œì¶œ ì²˜ë¦¬
        document.querySelector('form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const teamLeaderPhone = localStorage.getItem('teamLeaderPhone');
            if (!teamLeaderPhone) {
                alert('ë¨¼ì € íŒ€ì¥ë‹˜ ì „í™”ë²ˆí˜¸ë¥¼ ì„¤ì •í•´ì£¼ì„¸ìš”. (ìš°ì¸¡ ìƒë‹¨ âš™ï¸ ë²„íŠ¼)');
                return;
            }
            
            // í¼ ë°ì´í„° ìˆ˜ì§‘
            const formData = {
                customerName: document.getElementById('customer-name').value,
                phone: document.getElementById('phone').value,
                carrier: document.getElementById('carrier').value,
                subCarrier: document.getElementById('sub-carrier').value,
                birthDate: document.getElementById('birth-date').value,
                gender: document.querySelector('input[name="gender"]:checked')?.value,
                address: document.getElementById('address').value,
                paymentMethod: document.querySelector('input[name="payment-method"]:checked')?.value,
                bankName: document.getElementById('bank-name').value,
                accountHolder: document.getElementById('account-holder').value,
                accountNumber: document.getElementById('account-number').value,
                cardCompany: document.getElementById('card-company').value,
                cardNumber: document.getElementById('card-number').value,
                expiry: document.getElementById('expiry').value,
                paymentDate: document.getElementById('payment-date').value,
                productSize: document.getElementById('product-size').value,
                contractPeriod: document.getElementById('contract-period').value
            };
            
            // ë¬¸ì ë©”ì‹œì§€ ë‚´ìš© ìƒì„±
            const message = createSMSMessage(formData);
            
            // SMS ì•±ìœ¼ë¡œ ë¦¬ë””ë ‰ì…˜
            const smsUrl = `sms:${teamLeaderPhone}?body=${encodeURIComponent(message)}`;
            window.location.href = smsUrl;
        });
        
        function createSMSMessage(data) {
            let message = '[ì½”ì›¨ì´ ë©¤ë²„ì‹­ ê°€ì… ì‹ ì²­]\n\n';
            
            message += 'ê³ ê° ì •ë³´\n';
            message += `ì„±í•¨: ${data.customerName || 'ë¯¸ì…ë ¥'}\n`;
            message += `ì—°ë½ì²˜: ${data.phone || 'ë¯¸ì…ë ¥'}\n`;
            const carrierText = data.carrier === 'ì•Œëœ°í°' && data.subCarrier 
                ? `${data.carrier} (${data.subCarrier})`
                : data.carrier || 'ë¯¸ì…ë ¥';
            message += `í†µì‹ ì‚¬: ${carrierText}\n`;
            message += `ìƒë…„ì›”ì¼: ${data.birthDate || 'ë¯¸ì…ë ¥'}\n`;
            message += `ì„±ë³„: ${data.gender === 'male' ? 'ë‚¨ì„±' : data.gender === 'female' ? 'ì—¬ì„±' : 'ë¯¸ì…ë ¥'}\n`;
            message += `ì£¼ì†Œ: ${data.address || 'ë¯¸ì…ë ¥'}\n\n`;
            
            message += 'ê²°ì œ ì •ë³´\n';
            if (data.paymentMethod === 'bank') {
                message += `ê²°ì œë°©ë²•: ì€í–‰ì´ì²´\n`;
                message += `ì€í–‰ëª…: ${data.bankName || 'ë¯¸ì…ë ¥'}\n`;
                message += `ì˜ˆê¸ˆì£¼: ${data.accountHolder || 'ë¯¸ì…ë ¥'}\n`;
                message += `ê³„ì¢Œë²ˆí˜¸: ${data.accountNumber || 'ë¯¸ì…ë ¥'}\n`;
            } else if (data.paymentMethod === 'card') {
                message += `ê²°ì œë°©ë²•: ì¹´ë“œê²°ì œ\n`;
                message += `ì¹´ë“œì‚¬: ${data.cardCompany || 'ë¯¸ì…ë ¥'}\n`;
                message += `ì¹´ë“œë²ˆí˜¸: ${data.cardNumber || 'ë¯¸ì…ë ¥'}\n`;
                message += `ìœ íš¨ê¸°ê°„: ${data.expiry || 'ë¯¸ì…ë ¥'}\n`;
            } else {
                message += `ê²°ì œë°©ë²•: ë¯¸ì„ íƒ\n`;
            }
            message += `ê²°ì œì¼: ${data.paymentDate ? data.paymentDate + 'ì¼' : 'ë¯¸ì…ë ¥'}\n\n`;
            
            message += 'ë©¤ë²„ì‹­ ì •ë³´\n';
            const sizeMap = {
                'single': 'ì‹±ê¸€/ìŠˆí¼ì‹±ê¸€',
                'double': 'ë”ë¸”/í€¸',  
                'king': 'í‚¹',
                'large-king': 'ë¼ì§€í‚¹'
            };
            const contractMap = {
                '1year': '1ë…„ ë©¤ë²„ì‹­',
                '2year-discount': '2ë…„ ì•½ì • (15% í• ì¸)',
                '1year-prepaid': '1ë…„ ì„ ë‚© (5% í• ì¸)'
            };
            message += `ì œí’ˆ ì‚¬ì´ì¦ˆ: ${sizeMap[data.productSize] || data.productSize || 'ë¯¸ì…ë ¥'}\n`;
            message += `ì•½ì • ê¸°ê°„: ${contractMap[data.contractPeriod] || data.contractPeriod || 'ë¯¸ì…ë ¥'}\n\n`;
            
            message += 'ì²˜ë¦¬ ìš”ì²­ë“œë¦½ë‹ˆë‹¤.';
            
            return message;
        }
        
        // í†µì‹ ì‚¬ ì„ íƒì— ë”°ë¥¸ ì•Œëœ°í° ë§ ì„ íƒ í‘œì‹œ/ìˆ¨ê¹€
        document.getElementById('carrier').addEventListener('change', function() {
            const subCarrierGroup = document.getElementById('sub-carrier-group');
            if (this.value === 'ì•Œëœ°í°') {
                subCarrierGroup.style.display = 'block';
            } else {
                subCarrierGroup.style.display = 'none';
                document.getElementById('sub-carrier').value = '';
            }
        });
        
        // ê²°ì œ ë°©ë²•ì— ë”°ë¥¸ ì •ë³´ í‘œì‹œ/ìˆ¨ê¹€
        const paymentMethodRadios = document.querySelectorAll('input[name="payment-method"]');
        const bankInfo = document.getElementById('bank-info');
        const cardInfo = document.getElementById('card-info');
        
        paymentMethodRadios.forEach(radio => {
            radio.addEventListener('change', function() {
                if (this.value === 'bank') {
                    bankInfo.style.display = 'block';
                    cardInfo.style.display = 'none';
                } else if (this.value === 'card') {
                    bankInfo.style.display = 'none';
                    cardInfo.style.display = 'block';
                }
            });
        });
        
        // ì¹´ë“œë²ˆí˜¸ ìë™ í•˜ì´í”ˆ ì¶”ê°€
        document.getElementById('card-number').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            let formattedValue = value.replace(/(\d{4})(?=\d)/g, '$1-');
            if (formattedValue.length <= 19) {
                e.target.value = formattedValue;
            }
        });
        
        // ì „í™”ë²ˆí˜¸ ìë™ í•˜ì´í”ˆ ì¶”ê°€ (ê³ ê° ì—°ë½ì²˜)
        document.getElementById('phone').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            let formattedValue = value.replace(/(\d{3})(\d{4})(\d{4})/, '$1-$2-$3');
            if (value.length <= 11) {
                e.target.value = formattedValue;
            }
        });
        
        // ì „í™”ë²ˆí˜¸ ìë™ í•˜ì´í”ˆ ì¶”ê°€ (íŒ€ì¥ë‹˜ ì—°ë½ì²˜)
        document.getElementById('team-leader-phone').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            let formattedValue = value.replace(/(\d{3})(\d{4})(\d{4})/, '$1-$2-$3');
            if (value.length <= 11) {
                e.target.value = formattedValue;
            }
        });
    </script>
</body>
</html>